<div class="container">
  <h1 class="d-flex justify-content-center">Listado, búsqueda y descarga de reservas</h1><br>
  <div class="alert alert-success" [style.visibility]="isAlertVisible ? 'visible' : 'hidden'" role="alert">
    {{alert}}
  </div>
  <div class="d-flex justify-content-end">
      <input type="text" #criteria class="form-control" id="criteria" aria-describedby="criteria" style="width:350px;" placeholder="Búsqueda de reserva (criteria)">
      <div class="input-group-append">
        <button type="button" data-toggle="modal" data-target="#exampleModal" class="btn btn-primary" (click)="getReservaCriteria(criteria.value)"><fa-icon [icon]="search"></fa-icon>&nbsp;Buscar resera</button>
      </div>
  </div>
  <hr>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">#IdLocalizador</th>
        <th scope="col">Huesped</th>
        <th scope="col">FechaEntrada</th>
        <th scope="col">fechaSalida</th>
        <th scope="col">hotel</th>
        <th scope="col">precio</th>
        <th scope="col">acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let reserva of reservas">
        <td>{{reserva.idLocalizador}}</td>
        <td>{{reserva.huesped}}</td>
        <td>{{reserva.fechaEntrada}}</td>
        <td>{{reserva.fechaSalida}}</td>
        <td>{{reserva.hotel}}</td>
        <td>{{reserva.precio}} €</td>
        <td>{{reserva.acciones}}</td>
      </tr>
    </tbody>
  </table>
  
  <address>
    <div class="row">
      <div class="col-md-11">
        Correo electrónico candidato <a href="mailto:joseramonzin@hotmail.com">Jose ramón Rabadan Alfonsea</a><br>
        Prueba realizada con Angular (frontend) y Laravel (backend)<br>
      </div>
      <div class="col-md-1">
        <button type="button" class="btn btn-primary btn-sm" (click)="getCsvReservas()"><fa-icon [icon]="download"></fa-icon></button>
      </div>
    </div>
  </address>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" [style.visibility]="isModalVisible ? 'visible' : 'hidden'">
  <div class="modal-dialog" role="document">
    <div class="modal-content modal-sm">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Resultado de la búsqueda de la resera</h5>
      </div>
      <div class="modal-body">
        <ul>
          <li>IdLocalizador: {{reserva?.idLocalizador}}</li>
          <li>Huesped: {{reserva?.huesped}}</li>
          <li>Fecha entrada: {{reserva?.fechaEntrada}}</li>
          <li>Fecha salida: {{reserva?.fechaSalida}}</li>
          <li>Hotel: {{reserva?.hotel}}</li>
          <li>Precio: {{reserva?.precio}} €</li>
          <li>Acciones: {{reserva?.acciones}}</li>
        </ul>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<router-outlet></router-outlet>
